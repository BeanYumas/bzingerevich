var View=Class.extend({init:function(e){this.template=e},replaceTemplateStub:function(e,t){return this.template.replace(e,t)},afterShowView:function(){}});var contactView=View.extend({init:function(e){this.containerView=e},render:function(){var e=this;e.content=$('<div class="contact content-view"><div class="contact-me">You can contact me via mail in <a class="my-email" target="_blank" href="mailto:benny@beeziko.com">benny@beeziko.com</a>'+'</div><div class="movies-header"><p>It will take me at least 6 seconds to respond.<br>So here is another 6 seconds worth spending:</p></div>'+'<iframe width="420" height="315" src="https://www.youtube.com/embed/rfh4Mhp-a6U" frameborder="0" allowfullscreen></iframe>'+"</div>");return e.content}});var contentView=View.extend({init:function(e){this.controller=e;this.myWorkModels=[new musicMobModel,new antiProjWebsiteModel,new csiAppModel,new superDbQueryModel,new onlineCVModel];this.alreadyViewdWork=false;this.allViews={welcomeView:new welcomeView(this),contact:new contactView,whoAmI:new whoAmIView(this),myWork:new myWorkList(this,this.myWorkModels),myWorkEntry:new myWorkEntry(this,this.getMyWorkData(0))};this.currMyWorkItem=0;this.currView=this.allViews.welcomeView},render:function(){$("#content-container").append(this.currView.render())},replaceContent:function(e,t){var n=this;n.controller.contentViewReplaced(e);ga("send","event","viewReplaced","nextWorkClicked",e);if(e=="myWork"&&!n.alreadyViewdWork){delete n.allViews["myWorkEntry"];n.allViews["myWorkEntry"]=new myWorkEntry(this,this.getMyWorkData(0));n.currMyWorkItem=0;n.alreadyViewdWork=true;e="myWorkEntry"}var r=$("#content-container").children();var i=n.currView;n.currView=n.allViews[e];var s=n.currView.render();var o=function(){if(i.destroy){i.destroy()}};switch(t){case"fadeOut":n.fadeReplacement(r,s,o);break;case"hideLeft":n.hideLeft(r,s,o);break;default:n.fadeReplacement(r,s,o);break}},myWorkItemClicked:function(e){var t=this;delete t.allViews["myWorkEntry"];t.allViews["myWorkEntry"]=new myWorkEntry(this,this.getMyWorkData(e));t.currMyWorkItem=e;t.replaceContent("myWorkEntry")},showPrevWorkBtn:function(){return this.currView instanceof myWorkEntry&&this.currMyWorkItem>0},replaceWorkItem:function(e,t){var n=this;var r=this.getMyWorkData(e);ga("send","event","viewReplaced","nextWorkClicked",r.getData().entryName);n.allViews["myWorkEntry"].replaceEntryContent(r,t);n.currMyWorkItem=e},prevWorkClicked:function(){if(this.currMyWorkItem>0){this.replaceWorkItem(this.currMyWorkItem-1,"right")}},getNextWorkData:function(){var e=null;if(this.currMyWorkItem<this.myWorkModels.length-1){var t=this;e=t.getMyWorkData(t.currMyWorkItem+1)}return e},nextWorkClicked:function(){if(this.currMyWorkItem<this.myWorkModels.length-1){this.replaceWorkItem(this.currMyWorkItem+1,"left")}},showNextWorkBtn:function(){return this.currView instanceof myWorkEntry&&this.currMyWorkItem<this.myWorkModels.length-1},fadeReplacement:function(e,t,n){var r=this;t.css("display","none");e.fadeOut(300,function(){$("#content-container").children().remove();$("#content-container").append(t);$(document.body).scrollTop(0);t.fadeIn(300,function(){n()});if(r.currView.afterShowView){r.currView.afterShowView()}})},hideLeft:function(e,t,n){var r=this;var i=$("#content-container");i.css({"overflow-x":"hidden"});var s=i.width();t.hide().css({left:s});i.append(t);e.animate({left:-s},300,"linear",function(){e.remove();n();i.css({"overflow-x":"visible"})});t.show(function(){});t.animate({left:0},300,"linear",function(){if(r.currView.afterShowView){r.currView.afterShowView()}})},hideRight:function(e){var t=this.position().left;this.css({position:"relative"});this.animate({left:this.position().left+this.width()*1.5},300,"swing",function(){this.hide();this.css({left:t});e()})},getMyWorkData:function(e){return this.myWorkModels[e]}});var myWorkEntry=View.extend({init:function(e,t){this.container=e;this.model=t},render:function(){var e=this;e.content=$("<div class='entry-container'></div>").append(e.createContent());e.addHeader();e.fillContent(e.content);$(window).scroll(function(){e.scrolled(e)});return e.content},createContent:function(){return $("<div class='my-work-entry content-view'>"+"<div class='entry-content'><section id='research'><div class='sub-section business-goals'><div class='title'>What are the Business Goals?</div></div>"+"<div class='sub-section personas'><div class='title'>Who are the Users?</div></div>"+"<div class='sub-section conclusions'><div class='title'>Conclusions</div></div>"+"</section>"+"<section id='nav-model'><div class='sub-section navigation-tree'><div class='title'>What is the screen flow?</div>"+"<div class='screen-flow-details'></div></div></section>"+"<section id='wireframes'><div class='sub-section'><div class='title'>Show me some screens!</div></div></section>"+"<section id='prototype'></div></div>")},getBusinessGoals:function(){var e=this.model.getData().research;var t=$("<div class='goals-content content'></div>");$.each(e.businessGoals,function(e,n){t.append("<p>"+(e+1)+". "+n+"</p>")});return t},getPersonas:function(){var e=this.model.getData().research;var t=$("<ul class='persona-slider'></ul>");$.each(e.personas,function(e,n){t.append("<li><div class='persona-container'><p class='persona-details'>"+n.name+", "+n.age+"</p><p class='persona-profession'>"+n.profession+"</p><div class='persona-image' style='background-image:url(\""+n.image+"\")';></div>"+"<div class='needs'>Needs</div><p class='persona-needs'>"+n.needs+"</p></div></li>")});return t},getConclusions:function(){var e=this.model.getData().research;var t=$("<ul class='conclusions-slider'></ul>");$.each(e.conclusions,function(e,n){var r=$("<li><div class='conclusion-container'><div class='light-bulb'><p class='conclusion-details'>"+n+"</p></div></div></li>");var i=$(".light-bulb",r);switch(e%3){case 0:i.addClass("blue-conclusion");break;case 1:i.addClass("red-conclusion");break;case 2:i.addClass("green-conclusion");break}t.append(r.html())});return t},getNavModel:function(){var e=this.model.getData().navModel;var t=$("<img class='nav-image' src='"+e.image+"';>");return t},getWireframes:function(){var e=this.model.getData().research.conclusions;var t=this.model.getData().wireframes;var n=$("<div class='container-fluid'></div>");$.each(t.content,function(t,r){var i=$("<div class='row-fluid conclusion-wireframe'><div class='span5 conclusion'><p class='conclusion-details'>"+e[t]+"</p>"+"<img class='solution'></div>"+"<div class='span1 arrow'>&RightArrow;</div>"+"<div class='span6 wire-container'><img class='wireframe-image' src='"+r.image+"'></div></div>"+"</div>");var s=$(".solution",i);t===0?i.addClass("firstRow"):null;switch(t%3){case 0:s.attr("src","./images/blue_light_bulb.svg");break;case 1:s.attr("src","./images/red_light_bulb.svg");break;case 2:s.attr("src","./images/green_light_bulb.svg");break}n.append(i)});return n},getPrototype:function(){var e=this.model.getData().prototype;var t=$("<div class='sub-section'>"+"<a target='_blank' title='click to open prototype in invision' href='"+e.url+"'><div class='title prototype-title'>Open Live Prototype</div><img class='proto-image' src='"+e.image+"'></a>"+"</div><div class='next-work-preview'><div class='next-work-header'>View Next Work ></div>"+"<div class='row-fluid'><div class='span4 next-work-preview-img'></div><div class='span8 next-work-preview-text'>"+"<div class='entry-name'></div></div>"+"</div></div></section>");return t},afterShowView:function(){var e=$(".persona-slider");e.bxSlider({slideWidth:300,minSlides:1,moveSlides:1,maxSlides:4,slideMargin:50,infiniteLoop:false,hideControlOnEnd:true,pager:false});var t=$(".conclusions-slider");t.bxSlider({slideWidth:300,minSlides:1,moveSlides:1,maxSlides:4,slideMargin:50,infiniteLoop:false,hideControlOnEnd:true,pager:false});this.attachFancyBox();this.calculateSections();this.currSection=0;this.scrolled(this)},attachFancyBox:function(){var e=this.model.getData().navModel;$(".nav-image").wrap("<a class='fancybox nav-image-link' rel='group' href='"+e.image+"'</a>");$(".wireframe-image").each(function(e,t){$(t).wrap("<a class='fancybox' rel='group' href='"+t.src+"'></a>")});$(".fancybox").fancybox({helpers:{overlay:{locked:false}},arrows:false})},fillContent:function(e){$(".business-goals",e).append(this.getBusinessGoals());$(".personas",e).append(this.getPersonas());$(".conclusions",e).append(this.getConclusions());$(".screen-flow-details",e).append(this.getNavModel());$("#wireframes",e).append(this.getWireframes());$("#prototype",e).append(this.getPrototype())},showNextWorkPrev:function(){var e=this;var t=e.container.getNextWorkData();if(t){e.fillNextWorkPreview(t);var n=$(".next-work-preview");n.css("left",$("body").width()-n.width());n.off("click");n.click(function(){e.container.nextWorkClicked.call(e.container)});n.fadeIn(300)}},hideNextWorkPrev:function(){var e=$(".next-work-preview");e.off("click");e.fadeOut(100)},fillNextWorkPreview:function(e){var t=$(".next-work-preview");var n=e.getData();$(".entry-name",t).html(n.displayName);$(".next-work-preview-img",t).css("background-image","url('"+n.entryImage+"')")},scrolled:function(e){var t=e.findSectionNumber(e);if(e.currSection!=t){e.currSection=t;var n=$(".menu-item a").removeClass("selected");$(n[t]).addClass("selected");if(t==n.length-1){e.showNextWorkPrev()}else{e.hideNextWorkPrev()}}},calculateSections:function(){var e=this;var t=$(".entry-content section");e.sectionsDistanceFromTop=[];var n=0;e.sectionsDistanceFromTop.push(n);$.each(t,function(t,r){e.sectionsDistanceFromTop.push(n+$(r).height());n=n+$(r).height()})},findSectionNumber:function(e){var t=$(window).scrollTop()+200;for(var n=0;n<e.sectionsDistanceFromTop.length;n++){if(n==e.sectionsDistanceFromTop.length||t>=e.sectionsDistanceFromTop[n]&&t<e.sectionsDistanceFromTop[n+1]){return n}}},addHeader:function(){var e=$("<div class='fixed-header'>"+"<div class='row-fluid scroll-menu'>"+"<div class='span3 menu-item'><a class='selected' scrollTo='research'>Research</a></div>"+"<div class='span3 menu-item'><a scrollTo='nav-model'>Navigation Model</a></div>"+"<div class='span3 menu-item'><a scrollTo='wireframes'>Wireframes</a></div>"+"<div class='span3 menu-item'><a scrollTo='prototype'>Prototype</a></div>"+"</ul></nav></div>");this.currSection=0;$(".menu-item a",e).click(function(){var e=$(this);$(".menu-item a").removeClass("selected");e.addClass("selected");$("body,html").animate({scrollTop:$("#"+e.attr("scrollTo")).offset().top-$(".fixed-header").height()},300)});this.fillDescriptionToHeader(e);$(".my-work-entry",this.content).before(e)},toggleHeaderBtns:function(e){var t=this;var n=$(".my-next-work",e);if(n){if(this.container.showNextWorkBtn()){n.css("display","inline-block");n.off("click");n.click(function(){t.container.nextWorkClicked.call(t.container)})}else{n.css("display","none")}}var r=$(".my-prev-work",e);if(r){if(this.container.showPrevWorkBtn()){r.css("display","inline-block");r.off("click");r.click(function(){t.container.prevWorkClicked.call(t.container)})}else{r.css("display","none")}}},fillDescriptionToHeader:function(e){var t=this;e.prepend("<div class='entryDetails'><div class='my-prev-work'><div>< Prev Work</div></div><div class='entry-name'>"+this.model.getData().entryName+"</div>"+"<div class='entry-description'><div>"+this.model.getData().entryDescription+"</div></div>"+"<div class='my-next-work'><div>Next Work ></div></div></div>");t.toggleHeaderBtns(e,t)},replaceHeaderContent:function(e){var t=this;$(".entry-name, .entry-description").fadeOut(function(){$(".entry-name").html(t.model.getData().entryName);$(".entry-description div").html(t.model.getData().entryDescription);$(".entry-name, .entry-description").fadeIn();t.toggleHeaderBtns(e)})},replaceEntryContent:function(e,t){var n=this;n.model=e;var r=n.createContent();n.fillContent(r);var i=$(".entry-container");i.css({"overflow-x":"hidden"});var s=i.width();var o=$(".my-work-entry");switch(t){case"left":r.hide().css({left:s});i.append(r);o.animate({left:-s},200,"linear",function(){o.remove()});r.show(function(){n.afterShowView()});n.replaceHeaderContent($(".fixed-header"));r.animate({left:0},200,"linear",function(){i.css({"overflow-x":"visible"})});break;case"right":r.hide().css({left:-s});i.append(r);o.animate({left:s},200,"linear",function(){o.remove()});r.show(function(){n.afterShowView()});n.replaceHeaderContent($(".fixed-header"));r.animate({left:0},200,"linear",function(){i.css({"overflow-x":"visible"})});break}},destroy:function(){$(window).unbind("scroll")}});var myWorkList=View.extend({init:function(e,t){this.container=e;this.myWorkModels=t},render:function(){var e=this;e.content=$("<div class='my-work-list content-view'></div>");$.each(e.myWorkModels,function(t,n){var r=$("<div class='row work-entry'><div class='span3'><div class='my-work-preview-img'><img src='"+n.getData().entryImage+"'></div></div><div class='span9'><div class='entry-header'>"+n.getData().displayName+"</div><div class='my-work-preview-text'>"+n.getData().entryDescription+"</div></div></div>");r.click(function(){e.container.myWorkItemClicked(t)});e.content.append(r)});return e.content}});var sideBar=View.extend({init:function(e){this.controller=e;this.template='<div id="sidebar"><div class="line"></div><div class="myName">Benny Zingerevich<p>UX Designer</p></div><div class="menu"></div></div>'},render:function(e){var t=this;this.sidebarMenu=new sideBarMenu({whoAmI:{click:function(){t.controller.replaceContentView("whoAmI")},text:"Who Am I"},myWork:{click:function(){t.controller.replaceContentView("myWork")},text:"My Work"},contact:{click:function(){t.controller.replaceContentView("contact")},text:"Contact"}});this.content=$(t.template);$(".menu",this.content).append(this.sidebarMenu.render());$(e).append(this.content);$(".myName",this.content).click(function(){t.controller.replaceContentView("welcomeView");t.hideMenu()})},hideMenu:function(){$(".menu",this.content).fadeOut(0)},showMenu:function(e){var t=this;if($(".menu").is(":hidden")){$(".menu",this.content).fadeIn()}if(e){t.setSelectedMenu(e)}},setSelectedMenu:function(e){this.sidebarMenu.setSelected(e)},minimize:function(){},minimizedClicked:function(){}});var sideBarMenu=View.extend({init:function(e){this.menuItems=e},render:function(){var e=this;var t=$("<div></div>");var n;for(var r in e.menuItems){n=$("<div class='mItem'>"+e.menuItems[r].text+"<div class='selectionbar'></div></div>");n.attr("id",r);n.click(function(){$(".mItem").removeClass("selected");$(this).addClass("selected");e.menuItems[$(this).attr("id")].click()});t.append(n)}$(".mItem",t).first().addClass("selected");return t},setSelected:function(e){var t=$("#"+e);if(t&&this.menuItems[e]){$(".mItem").removeClass("selected");t.addClass("selected")}}});var welcomeView=View.extend({init:function(e){this.containerView=e},render:function(){var e=this;e.content=$('<div class="lp content-view"><div class="opening-quote">&quot;Everything that is beautiful and noble is the product of reason and calculation.&quot;</div>'+'<div class="source">Charles Baudelaire</div><div class="buttons-container"><div class="btnContainer left">'+'<div id="blue-btn-welcome" class="inline-btn blue-btn">Who Am I</div></div><div class="btnContainer">'+'<div id="red-btn-welcome" class="inline-btn red-btn">My Work</div></div></div></div>');$(".blue-btn",e.content).click(function(){e.containerView.replaceContent("whoAmI")});$(".red-btn",e.content).click(function(){e.containerView.replaceContent("myWork")});return e.content}});var whoAmIView=View.extend({myResume:{experience:{header:"Experience",entryContent:"<p>I am a UX Designer and a web developer.</p><p>I have been UXing for the past 5 years, and coding "+"for the past 7.</p><p>I was a co-founder and Chief product officer of beeziko LTD (an Ed Tech startup).</p>"+"<p>I worked as a front-end web developer @ Pluralis LTD. and as a front-end Developer @ CheckPoint Software Technologies.</p>"},skills:{header:"Skills",entryContent:"<div class='skill'><div class='skill-name'>UX Design</div><div>&#10029;&#10029;&#10029;&#10029;&#10029;</div></div>"+"<div class='skill'><div class='skill-name'>Code</div><div>&#10029;&#10029;&#10029;&#10029;&#10029;</div></div>"+"<div class='skill'><div class='skill-name'>Graphic Design</div><div>&#10029;&#10029;&#10025;&#10025;&#10025;</div></div>"},education:{header:"Education",entryContent:"<p>UXV Certification course by Tal Florentin</p>"+"<p>Ben Gurion University : B.Sc Computer Science</p>"+"<p>Ben Gurion University : B.Sc Chemistry</p>"}},init:function(e){this.container=e},render:function(){var e=this;e.content=$("<div class='my-resume content-view'><div class='myProfile'><div class='myImage'></div><div class='links'>"+"<a href='http://il.linkedin.com/pub/benny-zingerevich/38/102/164/' target='_blank'>LinkedIn Profile</a>"+"<a href='./files/benny_cv.pdf' download='benny_cv.pdf'>Download Print Version</a></div></div></div>");$.each(e.myResume,function(t,n){var r=$("<div class='resumeEntry'><div class='header'> "+n.header+"</div><div class='content'>"+n.entryContent+"</div></div>");e.content.append(r)});return e.content}})