var View=Class.extend({init:function(e){this.template=e},replaceTemplateStub:function(e,i){return this.template.replace(e,i)},afterShowView:function(){}}),myWorkList=View.extend({init:function(e,i){this.container=e,this.myWorkModels=i},render:function(){var e=this;return e.content=$("<div class='my-work-list content-view'></div>"),$.each(e.myWorkModels,function(i,t){var n=$("<div class='row work-entry'><div class='span3'><div class='my-work-preview-img'><img src='"+t.getData().entryImage+"'></div></div><div class='span9'><div class='entry-header'>"+t.getData().displayName+"</div><div class='my-work-preview-text'>"+t.getData().entryDescription+"</div></div></div>");n.click(function(){e.container.myWorkItemClicked(i)}),e.content.append(n)}),e.content}}),sideBar=View.extend({init:function(e){this.controller=e,this.template='<div id="sidebar"><div class="line"></div><div class="myName">Benny Zingerevich<p>UX Designer</p></div><div class="menu"></div></div>'},render:function(e){var i=this;this.sidebarMenu=new sideBarMenu({whoAmI:{click:function(){i.controller.replaceContentView("whoAmI")},text:"Who Am I"},myWork:{click:function(){i.controller.replaceContentView("myWork")},text:"My Work"},contact:{click:function(){i.controller.replaceContentView("contact")},text:"Contact"}}),this.content=$(i.template),$(".menu",this.content).append(this.sidebarMenu.render()),$(e).append(this.content),$(".myName",this.content).click(function(){i.controller.replaceContentView("welcomeView"),i.hideMenu()})},hideMenu:function(){$(".menu",this.content).fadeOut(0)},showMenu:function(e){var i=this;$(".menu").is(":hidden")&&$(".menu",this.content).fadeIn(),e&&i.setSelectedMenu(e)},setSelectedMenu:function(e){this.sidebarMenu.setSelected(e)},minimize:function(){},minimizedClicked:function(){}}),contactView=View.extend({init:function(e){this.containerView=e},render:function(){var e=this;return e.content=$('<div class="contact content-view"><div class="contact-me">You can contact me via mail in <a class="my-email" target="_blank" href="mailto:zingerevich.benny@gmail.com">zingerevich.benny@gmail.com</a></div><div class="movies-header"><p>It will take me at least 6 seconds to respond.<br>So here is another 6 seconds worth spending:</p></div><iframe width="420" height="315" src="https://www.youtube.com/embed/rfh4Mhp-a6U" frameborder="0" allowfullscreen></iframe></div>'),e.content}}),contentView=View.extend({init:function(e){this.controller=e,this.myWorkModels=[new musicMobModel,new antiProjWebsiteModel,new csiAppModel,new superDbQueryModel,new onlineCVModel],this.alreadyViewdWork=!1,this.allViews={welcomeView:new welcomeView(this),contact:new contactView,whoAmI:new whoAmIView(this),myWork:new myWorkList(this,this.myWorkModels),myWorkEntry:new myWorkEntry(this,this.getMyWorkData(0))},this.currMyWorkItem=0,this.currView=this.allViews.welcomeView},render:function(){$("#content-container").append(this.currView.render())},replaceContent:function(e,i){var t=this;t.controller.contentViewReplaced(e),ga("send","event","viewReplaced","nextWorkClicked",e),"myWork"!=e||t.alreadyViewdWork||(delete t.allViews.myWorkEntry,t.allViews.myWorkEntry=new myWorkEntry(this,this.getMyWorkData(0)),t.currMyWorkItem=0,t.alreadyViewdWork=!0,e="myWorkEntry");var n=$("#content-container").children(),s=t.currView;t.currView=t.allViews[e];var r=t.currView.render(),o=function(){s.destroy&&s.destroy()};switch(i){case"fadeOut":t.fadeReplacement(n,r,o);break;case"hideLeft":t.hideLeft(n,r,o);break;default:t.fadeReplacement(n,r,o)}},myWorkItemClicked:function(e){var i=this;delete i.allViews.myWorkEntry,i.allViews.myWorkEntry=new myWorkEntry(this,this.getMyWorkData(e)),i.currMyWorkItem=e,i.replaceContent("myWorkEntry")},showPrevWorkBtn:function(){return this.currView instanceof myWorkEntry&&this.currMyWorkItem>0},replaceWorkItem:function(e,i){var t=this,n=this.getMyWorkData(e);ga("send","event","viewReplaced","nextWorkClicked",n.getData().entryName),t.allViews.myWorkEntry.replaceEntryContent(n,i),t.currMyWorkItem=e},prevWorkClicked:function(){this.currMyWorkItem>0&&this.replaceWorkItem(this.currMyWorkItem-1,"right")},getNextWorkData:function(){var e=null;if(this.currMyWorkItem<this.myWorkModels.length-1){var i=this;e=i.getMyWorkData(i.currMyWorkItem+1)}return e},nextWorkClicked:function(){this.currMyWorkItem<this.myWorkModels.length-1&&this.replaceWorkItem(this.currMyWorkItem+1,"left")},showNextWorkBtn:function(){return this.currView instanceof myWorkEntry&&this.currMyWorkItem<this.myWorkModels.length-1},fadeReplacement:function(e,i,t){var n=this;i.css("display","none"),e.fadeOut(300,function(){$("#content-container").children().remove(),$("#content-container").append(i),$(document.body).scrollTop(0),i.fadeIn(300,function(){t()}),n.currView.afterShowView&&n.currView.afterShowView()})},hideLeft:function(e,i,t){var n=this,s=$("#content-container");s.css({"overflow-x":"hidden"});var r=s.width();i.hide().css({left:r}),s.append(i),e.animate({left:-r},300,"linear",function(){e.remove(),t(),s.css({"overflow-x":"visible"})}),i.show(function(){}),i.animate({left:0},300,"linear",function(){n.currView.afterShowView&&n.currView.afterShowView()})},hideRight:function(e){var i=this.position().left;this.css({position:"relative"}),this.animate({left:this.position().left+1.5*this.width()},300,"swing",function(){this.hide(),this.css({left:i}),e()})},getMyWorkData:function(e){return this.myWorkModels[e]}}),myWorkEntry=View.extend({init:function(e,i){this.container=e,this.model=i},render:function(){var e=this;return e.content=$("<div class='entry-container'></div>").append(e.createContent()),e.addHeader(),e.fillContent(e.content),$(window).scroll(function(){e.scrolled(e)}),e.content},createContent:function(){return $("<div class='my-work-entry content-view'><div class='entry-content'><section id='research'><div class='sub-section business-goals'><div class='title'>What are the Business Goals?</div></div><div class='sub-section personas'><div class='title'>Who are the Users?</div></div><div class='sub-section conclusions'><div class='title'>Conclusions</div></div></section><section id='nav-model'><div class='sub-section navigation-tree'><div class='title'>What is the screen flow?</div><div class='screen-flow-details'></div></div></section><section id='wireframes'><div class='sub-section'><div class='title'>Show me some screens!</div></div></section><section id='prototype'></div></div>")},getBusinessGoals:function(){var e=this.model.getData().research,i=$("<div class='goals-content content'></div>");return $.each(e.businessGoals,function(e,t){i.append("<p>"+(e+1)+". "+t+"</p>")}),i},getPersonas:function(){var e=this.model.getData().research,i=$("<ul class='persona-slider'></ul>");return $.each(e.personas,function(e,t){i.append("<li><div class='persona-container'><p class='persona-details'>"+t.name+", "+t.age+"</p><p class='persona-profession'>"+t.profession+"</p><div class='persona-image' style='background-image:url(\""+t.image+"\")';></div><div class='needs'>Needs</div><p class='persona-needs'>"+t.needs+"</p></div></li>")}),i},getConclusions:function(){var e=this.model.getData().research,i=$("<ul class='conclusions-slider'></ul>");return $.each(e.conclusions,function(e,t){var n=$("<li><div class='conclusion-container'><div class='light-bulb'><p class='conclusion-details'>"+t+"</p></div></div></li>"),s=$(".light-bulb",n);switch(e%3){case 0:s.addClass("blue-conclusion");break;case 1:s.addClass("red-conclusion");break;case 2:s.addClass("green-conclusion")}i.append(n.html())}),i},getNavModel:function(){var e=this.model.getData().navModel,i=$("<img class='nav-image' src='"+e.image+"';>");return i},getWireframes:function(){var e=this.model.getData().research.conclusions,i=this.model.getData().wireframes,t=$("<div class='container-fluid'></div>");return $.each(i.content,function(i,n){var s=$("<div class='row-fluid conclusion-wireframe'><div class='span5 conclusion'><p class='conclusion-details'>"+e[i]+"</p><img class='solution'></div><div class='span1 arrow'>&RightArrow;</div><div class='span6 wire-container'><img class='wireframe-image' src='"+n.image+"'></div></div></div>"),r=$(".solution",s);switch(0===i?s.addClass("firstRow"):null,i%3){case 0:r.attr("src","./images/blue_light_bulb.svg");break;case 1:r.attr("src","./images/red_light_bulb.svg");break;case 2:r.attr("src","./images/green_light_bulb.svg")}t.append(s)}),t},getPrototype:function(){var e=this.model.getData().prototype,i=$("<div class='sub-section'><a target='_blank' title='click to open prototype in invision' href='"+e.url+"'><div class='title prototype-title'>Open Live Prototype</div><img class='proto-image' src='"+e.image+"'></a></div><div class='next-work-preview'><div class='next-work-header'>View Next Work ></div><div class='row-fluid'><div class='span4 next-work-preview-img'></div><div class='span8 next-work-preview-text'><div class='entry-name'></div></div></div></div></section>");return i},afterShowView:function(){var e=$(".persona-slider");e.bxSlider({slideWidth:300,minSlides:1,moveSlides:1,maxSlides:4,slideMargin:50,infiniteLoop:!1,hideControlOnEnd:!0,pager:!1});var i=$(".conclusions-slider");i.bxSlider({slideWidth:300,minSlides:1,moveSlides:1,maxSlides:4,slideMargin:50,infiniteLoop:!1,hideControlOnEnd:!0,pager:!1}),this.attachFancyBox(),this.calculateSections(),this.currSection=0,this.scrolled(this)},attachFancyBox:function(){var e=this.model.getData().navModel;$(".nav-image").wrap("<a class='fancybox nav-image-link' rel='group' href='"+e.image+"'</a>"),$(".wireframe-image").each(function(e,i){$(i).wrap("<a class='fancybox' rel='group' href='"+i.src+"'></a>")}),$(".fancybox").fancybox({helpers:{overlay:{locked:!1}},arrows:!1})},fillContent:function(e){$(".business-goals",e).append(this.getBusinessGoals()),$(".personas",e).append(this.getPersonas()),$(".conclusions",e).append(this.getConclusions()),$(".screen-flow-details",e).append(this.getNavModel()),$("#wireframes",e).append(this.getWireframes()),$("#prototype",e).append(this.getPrototype())},showNextWorkPrev:function(){var e=this,i=e.container.getNextWorkData();if(i){e.fillNextWorkPreview(i);var t=$(".next-work-preview");t.css("left",$("body").width()-t.width()),t.off("click"),t.click(function(){e.container.nextWorkClicked.call(e.container)}),t.fadeIn(300)}},hideNextWorkPrev:function(){var e=$(".next-work-preview");e.off("click"),e.fadeOut(100)},fillNextWorkPreview:function(e){var i=$(".next-work-preview"),t=e.getData();$(".entry-name",i).html(t.displayName),$(".next-work-preview-img",i).css("background-image","url('"+t.entryImage+"')")},scrolled:function(e){var i=e.findSectionNumber(e);if(e.currSection!=i){e.currSection=i;var t=$(".menu-item a").removeClass("selected");$(t[i]).addClass("selected"),i==t.length-1?e.showNextWorkPrev():e.hideNextWorkPrev()}},calculateSections:function(){var e=this,i=$(".entry-content section");e.sectionsDistanceFromTop=[];var t=0;e.sectionsDistanceFromTop.push(t),$.each(i,function(i,n){e.sectionsDistanceFromTop.push(t+$(n).height()),t+=$(n).height()})},findSectionNumber:function(e){for(var i=$(window).scrollTop()+200,t=0;t<e.sectionsDistanceFromTop.length;t++)if(t==e.sectionsDistanceFromTop.length||i>=e.sectionsDistanceFromTop[t]&&i<e.sectionsDistanceFromTop[t+1])return t},addHeader:function(){var e=$("<div class='fixed-header'><div class='row-fluid scroll-menu'><div class='span3 menu-item'><a class='selected' scrollTo='research'>Research</a></div><div class='span3 menu-item'><a scrollTo='nav-model'>Navigation Model</a></div><div class='span3 menu-item'><a scrollTo='wireframes'>Wireframes</a></div><div class='span3 menu-item'><a scrollTo='prototype'>Prototype</a></div></ul></nav></div>");this.currSection=0,$(".menu-item a",e).click(function(){var e=$(this);$(".menu-item a").removeClass("selected"),e.addClass("selected"),$("body,html").animate({scrollTop:$("#"+e.attr("scrollTo")).offset().top-$(".fixed-header").height()},300)}),this.fillDescriptionToHeader(e),$(".my-work-entry",this.content).before(e)},toggleHeaderBtns:function(e){var i=this,t=$(".my-next-work",e);t&&(this.container.showNextWorkBtn()?(t.css("display","inline-block"),t.off("click"),t.click(function(){i.container.nextWorkClicked.call(i.container)})):t.css("display","none"));var n=$(".my-prev-work",e);n&&(this.container.showPrevWorkBtn()?(n.css("display","inline-block"),n.off("click"),n.click(function(){i.container.prevWorkClicked.call(i.container)})):n.css("display","none"))},fillDescriptionToHeader:function(e){var i=this;e.prepend("<div class='entryDetails'><div class='my-prev-work'><div>< Prev Work</div></div><div class='entry-name'>"+this.model.getData().entryName+"</div><div class='entry-description'><div>"+this.model.getData().entryDescription+"</div></div><div class='my-next-work'><div>Next Work ></div></div></div>"),i.toggleHeaderBtns(e,i)},replaceHeaderContent:function(e){var i=this;$(".entry-name, .entry-description").fadeOut(function(){$(".entry-name").html(i.model.getData().entryName),$(".entry-description div").html(i.model.getData().entryDescription),$(".entry-name, .entry-description").fadeIn(),i.toggleHeaderBtns(e)})},replaceEntryContent:function(e,i){var t=this;t.model=e;var n=t.createContent();t.fillContent(n);var s=$(".entry-container");s.css({"overflow-x":"hidden"});var r=s.width(),o=$(".my-work-entry");switch(i){case"left":n.hide().css({left:r}),s.append(n),o.animate({left:-r},200,"linear",function(){o.remove()}),n.show(function(){t.afterShowView()}),t.replaceHeaderContent($(".fixed-header")),n.animate({left:0},200,"linear",function(){s.css({"overflow-x":"visible"})});break;case"right":n.hide().css({left:-r}),s.append(n),o.animate({left:r},200,"linear",function(){o.remove()}),n.show(function(){t.afterShowView()}),t.replaceHeaderContent($(".fixed-header")),n.animate({left:0},200,"linear",function(){s.css({"overflow-x":"visible"})})}},destroy:function(){$(window).unbind("scroll")}}),sideBarMenu=View.extend({init:function(e){this.menuItems=e},render:function(){var e,i=this,t=$("<div></div>");for(var n in i.menuItems)e=$("<div class='mItem'>"+i.menuItems[n].text+"<div class='selectionbar'></div></div>"),e.attr("id",n),e.click(function(){$(".mItem").removeClass("selected"),$(this).addClass("selected"),i.menuItems[$(this).attr("id")].click()}),t.append(e);return $(".mItem",t).first().addClass("selected"),t},setSelected:function(e){var i=$("#"+e);i&&this.menuItems[e]&&($(".mItem").removeClass("selected"),i.addClass("selected"))}}),welcomeView=View.extend({init:function(e){this.containerView=e},render:function(){var e=this;return e.content=$('<div class="lp content-view"><div class="opening-quote">&quot;Everything that is beautiful and noble is the product of reason and calculation.&quot;</div><div class="source">Charles Baudelaire</div><div class="buttons-container"><div class="btnContainer left"><div id="blue-btn-welcome" class="inline-btn blue-btn">Who Am I</div></div><div class="btnContainer"><div id="red-btn-welcome" class="inline-btn red-btn">My Work</div></div></div></div>'),$(".blue-btn",e.content).click(function(){e.containerView.replaceContent("whoAmI")}),$(".red-btn",e.content).click(function(){e.containerView.replaceContent("myWork")}),e.content}}),whoAmIView=View.extend({myResume:{experience:{header:"Experience",entryContent:"<p>I am a UX Designer and a web developer.</p><p>I have been UXing for the past 5 years, and coding for the past 7.</p><p>I was a co-founder and Chief product officer of beeziko LTD (an Ed Tech startup).</p><p>I worked as a front-end web developer @ Pluralis LTD. and as a front-end Developer @ CheckPoint Software Technologies.</p>"},skills:{header:"Skills",entryContent:"<div class='skill'><div class='skill-name'>UX Design</div><div>&#10029;&#10029;&#10029;&#10029;&#10029;</div></div><div class='skill'><div class='skill-name'>Code</div><div>&#10029;&#10029;&#10029;&#10029;&#10029;</div></div><div class='skill'><div class='skill-name'>Graphic Design</div><div>&#10029;&#10029;&#10025;&#10025;&#10025;</div></div>"},education:{header:"Education",entryContent:"<p>UXV Certification course by Tal Florentin</p><p>Ben Gurion University : B.Sc Computer Science</p><p>Ben Gurion University : B.Sc Chemistry</p>"}},init:function(e){this.container=e},render:function(){var e=this;return e.content=$("<div class='my-resume content-view'><div class='myProfile'><div class='myImage'></div><div class='links'><a href='http://il.linkedin.com/pub/benny-zingerevich/38/102/164/' target='_blank'>LinkedIn Profile</a><a href='./files/benny_cv.pdf' download='benny_cv.pdf'>Download Print Version</a></div></div></div>"),$.each(e.myResume,function(i,t){var n=$("<div class='resumeEntry'><div class='header'> "+t.header+"</div><div class='content'>"+t.entryContent+"</div></div>");e.content.append(n)}),e.content}});